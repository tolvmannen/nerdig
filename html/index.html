<!DOCTYPE html>
<html>
<head>
        <title>NerDIG</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="script/style.css">
	<!--
        <script src="https://unpkg.com/htmx.org@1.7.1/dist/htmx.min.js"></script>
        <script src="https://unpkg.com/htmx.org@1.7.1/dist/ext/json-enc.js"></script>
	-->
        <script src="script/1.9.9.htmx.min.js"></script>
        <script src="script/1.9.9.json-enc.js"></script>

</head>
<body>

<input type="checkbox" id="hide_unset" value="true" name="hide_unset" checked> 

<section class="header">

    <div class="banner">
        <h1>NerDIG</h1>
    </div>

    <div class="digform">
                <form hx-post="dig/webclient"
                hx-target="#terminal" 
                hx-swap="innerHTML" 
                hx-headers='{"Content-Type": "application/json"}' 
                hx-on:htmx:response-error="alert('ERROR: Request could not be completed')"
                hx-on:htmx:send-error="alert('ERROR: Could not send request')"
                hx-ext="json-enc">

        <div class="mainquery">

            <span>
                    <p class='note'>Name</p>
                    <input type="text" id="Qname" name="Qname" required>
            </span>

            <span>
                    <p class='note'>Type</p>
                    <select id="Qtype" name="Qtype" required>
                        <option value="A">A</option>
                        <option value="AAAA">AAAA</option>
                        <option value="NS">NS</option>
                        <option value="MX">MX</option>
                        <option value="TXT">TXT</option>
                        <option value="SOA">SOA</option>
                        <option value="PTR">PTR</option>
                        <option value="CNAME">CNAME</option>
                        <option value="SRV">SRV</option>
                        <option disabled>──────────</option>
                        <option value="NSEC">NSEC</option>
                        <option value="RRSIG">RRSIG</option>
                        <option value="DNSKEY">DNSKEY</option>
                        <option value="CDNSKEY">CDNSKEY</option>
                        <option value="DS">DS</option>
                        <option value="CDS">CDS</option>
                        <option value="NSEC3PARAM">NSEC3PARAM</option>
                        <option value="RP">RP</option>
                        <option value="AXFR">AXFR</option>
                        <!-- Add more options as needed -->
                    </select>
            </span>

            <span>
                    <p class='note'>Nameserver</p>
                    <input type="text" id="Nameserver" name="Nameserver" value="1.1.1.1">
            </span>

            <button type="submit">DIG</button>


        </div>
        <div class="options">
            <span class="infotag"> 
                    Flags: 
                    <!--<sup>&#9432;</sup>--> 
            </span>

            <input type="checkbox" id="RD" value="true" name="RD" checked> 
            <span>
            <label class="sendflag" for="RD">RD</label>
            </span>

            <input type="checkbox" id="AA" value="true" name="AA"> 
            <span>
            <label class="sendflag" for="AA">AA</label>
            </span>

            <input type="checkbox" id="AD" value="true" name="AD"> 
            <span>
            <label class="sendflag" for="AD">AD</label>
            </span>

            <input type="checkbox" id="CD" value="true" name="CD"> 
            <span>
            <label class="sendflag" for="CD">CD</label>
            </span>
            
            <input type="checkbox" id="DO" value="true" name="DO"> 
            <span>
            <label class="sendflag" for="DO">DO</label>
            </span>

            <input type="checkbox" id="NoCrypto" value="true" name="NoCrypto"> 
            <span>
            <label class="sendflag" for="NoCrypto">No Crypto</label>
            </span>

            <input type="checkbox" id="Nsid" value="true" name="Nsid"> 
            <span>
            <label class="sendflag" for="Nsid">Nsid</label>
            </span>
            <select id="Transport" name="Transport" required>
                <option value="udp">UDP</option>
                <option value="tcp">TCP</option>
            </select>
            <select id="IpVersion" name="IpVersion" required>
                <option value="4">IPv4</option>
                <option value="6">IPv6</option>
            </select>
            </span>
        </div>

        <div class="options">
            <br />
            <span>
            <details>
                <summary>Extra Options</summary>
                <input type="text" id="Port" name="Port" value="53" required>
                <input type="text" id="UDPsize" name="UDPsize" value="1232" required>
                <input type="text" id="Tsig" name="Tsig" value="" placeholder="hmac-algorithm:name:key">
            </details>
            </span>
        </div>


        </form>
    </div>
</section>
<section class="main">

 
	<div id="terminal">

                <div>
                <h3>NAME</h3>
                <p>
                    NerDIG - No Experience Required DIG.
                </p>
                <h3>DESCRIPTION</h3>
                <p>
                    DIG is a flexible tool for interrogating DNS name servers. It performs DNS lookups and 
                    displays the answers that are returned from the name server(s) that were queried. 
                </p>
                <p>
                    According to the manual pages for DIG, "Most DNS administrators use dig to troubleshoot
                    DNS problems because of its flexibility, ease of use and clarity of output". 
                </p>
                <p>
                    While user friendly, it can be a bit picky about who it considers a friend. NerDIG is here to help with that.
                </p>
                <h3>SIMPLE USAGE</h3>
                <p>
                    Enter the domain name you wish to 
                        query in the appropriatly named input field and press the button.
                </p>
                <p>
                    There are a number of options that can be toggeled, selected, or changed. 
                    They largely correspond to the options available in the regular DIG client. 
                    The advantage of NerDIG is that it will let you click on almost anything 
                    to get an explanation of what it means and what it does. 
                </p>
                </div>

	</div>
 	<div id="infobox"> 
                    Info about flags, sections and other stuff
 	</div>

</section>
<section class="footer fullwidth"> 
    
    <span>
    <label for="hide_unset"><img src="tt.png" width="50" height="50"/> </label>
    </span>
</section>

</body>
</html>

